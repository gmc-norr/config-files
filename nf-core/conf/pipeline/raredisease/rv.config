// vim: ft=groovy syntax=nextflow

params.platform = 'illumina'
params.igenomes_base = '/storage/userdata/references/igenomes'
params.genome = 'GRCh38'
params.aligner = 'bwamem2'
params.bwamem2 = '/storage/userdata/references/igenomes/Homo_sapiens/NCBI/GRCh38/Sequence/bwamem2Index'
params.intervals_wgs = "${params.custom_config_base}/assets/GRCh38_chr1-chr22chrXchrYchrM.interval_list"
params.intervals_y = "${params.custom_config_base}/assets/GRCh38_chrY.interval_list"
params.variant_catalog = "${params.custom_config_base}/assets/raredisease/disease_loci/ExpansionHunter-v5.0.0/variant_catalog_grch38.json"
params.variant_caller = 'deepvariant'
params.vcfanno_toml = "${params.custom_config_base}/assets/raredisease/vcfanno/vcfanno.toml"
params.vcfanno_resources = "${params.custom_config_base}/assets/raredisease/vcfanno/vcfanno_resources.txt"
params.score_config_mt = "${params.custom_config_base}/assets/raredisease/genmod/rare_disease_rank_model_0.1.ini"
params.score_config_snv = "${params.custom_config_base}/assets/raredisease/genmod/rare_disease_rank_model_0.1.ini"
// score_config_sv = '/storage/userdata/pipelines/config-files/scout-annotation/rare_disease/rank_model/rare_disease_rank_model_sv_0.1.ini'
params.variant_consequences_snv = "${params.custom_config_base}/assets/variant_consequences.txt"
params.variant_consequences_sv = "${params.custom_config_base}/assets/variant_consequences.txt"
params.vep_cache = '/storage/userdata/references/vep'
params.vep_cache_version = 110
params.vep_filters = "${params.custom_config_base}/assets/raredisease/clinical_hgnc.txt"
params.vep_plugin_files = "${params.custom_config_base}/assets/raredisease/vep_plugin_files.csv"
params.gnomad_af = '/storage/userdata/references/homo_sapiens/GRCh38_hg38/gnomad/gnomad.genomes.v4.1.sites.af.tab.gz'

// Skip some things for now since we don't have normal panels or other
// info needed for these steps.
params.skip_germlinecnvcaller = true
params.skip_sv_annotation = true
params.skip_me_calling = true
params.skip_me_annotation = true
params.skip_mt_annotation = true

// VEP filtering is broken, so skip it for now until VEP 113 has been released
params.skip_vep_filter = true

process {
    withName: 'NFCORE_RAREDISEASE:RAREDISEASE:ANNOTATE_GENOME_SNVS:VCFANNO' {
        cpus = 12
    }

    withName: 'NFCORE_RAREDISEASE:RAREDISEASE:CALL_SNV:CALL_SNV_DEEPVARIANT:DEEPVARIANT' {
        cpus = 32
    }
}
